<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="JesÃºs Acosta PÃ©rez, JosÃ© Ignacio Rueda Rivas, AndrÃ©s Daniel De Quintal">
    <meta name="description" content="Proyecto Uno - Programacion Orientada a la Web">
    <link rel="icon" href="images/favicon-16x16.png" type="image/x-icon">
    <link rel="stylesheet" href="styles/style.css">
    <title>Resultado Juego</title>
</head>
<body>
    <main class="main">

    <header>
        <h1>Puntos Acumulados</h1>
    </header>
        <div class="table-resultados">
            <table>
                <thead>
                    <tr>
                        <th>PosiciÃ³n</th>
                        <th>Jugador</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- AquÃ­ se llenarÃ¡ dinÃ¡micamente -->
                </tbody>
            </table>
        </div>
        <button class="botonResultado" onclick="window.location.href='index.html'">Regresar Inicio</button>
    </main>
    
    <script>
    window.onload = function() {
        const ranking = JSON.parse(localStorage.getItem('rankingSalida') || '[]');
        const jugadores = JSON.parse(localStorage.getItem('players') || '[]');
        const tableBody = document.querySelector('table tbody');
        tableBody.innerHTML = '';
        const medallas = ['ðŸ¥‡', 'ðŸ¥ˆ', 'ðŸ¥‰'];
        ranking.forEach((jugadorId, idx) => {
            const jugador = jugadores.find(j => j.id === jugadorId);
            const tr = document.createElement('tr');
            if (idx === 0) tr.className = 'primer-lugar';
            const tdPos = document.createElement('td');
            tdPos.textContent = (idx + 1) + 'Âº ' + (medallas[idx] || '');
            const tdNombre = document.createElement('td');
            tdNombre.textContent = jugador ? jugador.name : jugadorId.replace('player', 'Jugador ');
            tr.appendChild(tdPos);
            tr.appendChild(tdNombre);
            tableBody.appendChild(tr);
        });
    }
    </script>
</body>
</html>